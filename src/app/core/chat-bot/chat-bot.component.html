<div class="chat-container w-full max-w-4xl mx-auto border border-gray-300 rounded-lg h-[90vh] flex flex-col">
    <div class="chat-header p-4 bg-blue-500 text-white rounded-t-lg">
      <h2>Fitness AI Assistant</h2>
    </div>
    
    <div #scrollDiv class="chat-messages flex-1 overflow-y-auto p-4 flex flex-col gap-4">
      <ng-container *ngFor="let msg of messages">
        <!-- User Message -->
        <app-chat-message 
          [message]="msg" 
          [isBot]="false" 
      >
        </app-chat-message>
  
        <!-- Bot Response -->
        <app-chat-message 
          *ngIf="msg.response"
          [message]="msg" 
          [isBot]="true" 
         >
        </app-chat-message>
      </ng-container>
    </div>
    
    <div *ngIf="loading() === true" class="px-4 py-2">
        <div class="animate-pulse flex space-x-4">
            <div class="flex-1 space-y-4 py-1">
            <div class="h-4 bg-gray-300 rounded w-3/4"></div>
            <div class="space-y-2">
                <div class="h-4 bg-gray-300 rounded"></div>
                <div class="h-4 bg-gray-300 rounded w-5/6"></div>
            </div>
            </div>
        </div>
    </div>

    <div class="chat-input p-4 flex gap-2 border-t border-gray-300">
      <input 
        [(ngModel)]="newMessage"
        (keyup.enter)="sendMessage()"
        placeholder="Type your message..." 
        class="flex-1 p-2 border border-gray-300 rounded-md">
      <button 
        (click)="sendMessage()"
        class="px-4 py-2 bg-blue-500 text-white rounded-md cursor-pointer disabled:opacity-50">
        Send
      </button>
    </div>
  </div>
  